
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../../../working_group/acknowledgements/">
      
      
        <link rel="next" href="../../propose_a_project/">
      
      
      <link rel="icon" href="../../../assets/logos/nichy_logo.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>FreeSurfer project - NICHY consortium</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#freesurfer-project-brain-morphology" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="NICHY consortium" class="md-header__button md-logo" aria-label="NICHY consortium" data-md-component="logo">
      
  <img src="../../../assets/logos/nichy_logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            NICHY consortium
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              FreeSurfer project
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="NICHY consortium" class="md-nav__button md-logo" aria-label="NICHY consortium" data-md-component="logo">
      
  <img src="../../../assets/logos/nichy_logo.png" alt="logo">

    </a>
    NICHY consortium
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Welcome
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    About NICHY
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            About NICHY
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../working_group/about_the_consortium/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    The Consortium
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../working_group/team/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Steering Committee
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../working_group/analysis_team/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Analysis Team
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../working_group/legal_team/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Legal Team
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../working_group/existing_sites/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sites
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../working_group/join_us/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Join us
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../working_group/acknowledgements/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Acknowledgements
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Projects
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Projects
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    FreeSurfer project
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    FreeSurfer project
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#about-the-project" class="md-nav__link">
    <span class="md-ellipsis">
      About the project
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#before-you-start" class="md-nav__link">
    <span class="md-ellipsis">
      Before you start
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Before you start">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#leaderboard" class="md-nav__link">
    <span class="md-ellipsis">
      Leaderboard
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#site-survey" class="md-nav__link">
    <span class="md-ellipsis">
      Site survey
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#responsible-person" class="md-nav__link">
    <span class="md-ellipsis">
      Responsible person
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#general-timeline" class="md-nav__link">
    <span class="md-ellipsis">
      General timeline
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#analysis-workflow-and-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      Analysis workflow and documentation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#guidance" class="md-nav__link">
    <span class="md-ellipsis">
      Guidance
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#system-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      System requirements
    </span>
  </a>
  
    <nav class="md-nav" aria-label="System requirements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#linux-server" class="md-nav__link">
    <span class="md-ellipsis">
      Linux server
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-containers" class="md-nav__link">
    <span class="md-ellipsis">
      Using containers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Using containers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-are-containers" class="md-nav__link">
    <span class="md-ellipsis">
      What are containers?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#checking-for-an-existing-installation" class="md-nav__link">
    <span class="md-ellipsis">
      Checking for an existing installation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-container-software" class="md-nav__link">
    <span class="md-ellipsis">
      Installing container software
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#building-and-pulling-containers" class="md-nav__link">
    <span class="md-ellipsis">
      Building and pulling containers
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#storing-container-images" class="md-nav__link">
    <span class="md-ellipsis">
      Storing container images
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-data-organisation-setting-up-nipoppy" class="md-nav__link">
    <span class="md-ellipsis">
      1) Data organisation: Setting up Nipoppy
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-data-processing" class="md-nav__link">
    <span class="md-ellipsis">
      2) Data processing
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2) Data processing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#part-a-running-freesurfer-7" class="md-nav__link">
    <span class="md-ellipsis">
      Part A: Running FreeSurfer 7
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#part-b-running-the-subsegmentations" class="md-nav__link">
    <span class="md-ellipsis">
      Part B: Running the Subsegmentations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#part-c-running-the-freesurfer-quality-control-toolbox-fsqc" class="md-nav__link">
    <span class="md-ellipsis">
      Part C: Running the FreeSurfer Quality Control Toolbox (fsqc)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-quality-control-visual-inspection" class="md-nav__link">
    <span class="md-ellipsis">
      3) Quality control: visual inspection
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-data-sharing" class="md-nav__link">
    <span class="md-ellipsis">
      4) Data sharing
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../propose_a_project/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Propose a project
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Resources
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Resources
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../resources/legal/legal/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Legal
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#about-the-project" class="md-nav__link">
    <span class="md-ellipsis">
      About the project
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#before-you-start" class="md-nav__link">
    <span class="md-ellipsis">
      Before you start
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Before you start">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#leaderboard" class="md-nav__link">
    <span class="md-ellipsis">
      Leaderboard
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#site-survey" class="md-nav__link">
    <span class="md-ellipsis">
      Site survey
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#responsible-person" class="md-nav__link">
    <span class="md-ellipsis">
      Responsible person
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#general-timeline" class="md-nav__link">
    <span class="md-ellipsis">
      General timeline
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#analysis-workflow-and-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      Analysis workflow and documentation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#guidance" class="md-nav__link">
    <span class="md-ellipsis">
      Guidance
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#system-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      System requirements
    </span>
  </a>
  
    <nav class="md-nav" aria-label="System requirements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#linux-server" class="md-nav__link">
    <span class="md-ellipsis">
      Linux server
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-containers" class="md-nav__link">
    <span class="md-ellipsis">
      Using containers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Using containers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-are-containers" class="md-nav__link">
    <span class="md-ellipsis">
      What are containers?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#checking-for-an-existing-installation" class="md-nav__link">
    <span class="md-ellipsis">
      Checking for an existing installation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-container-software" class="md-nav__link">
    <span class="md-ellipsis">
      Installing container software
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#building-and-pulling-containers" class="md-nav__link">
    <span class="md-ellipsis">
      Building and pulling containers
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#storing-container-images" class="md-nav__link">
    <span class="md-ellipsis">
      Storing container images
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-data-organisation-setting-up-nipoppy" class="md-nav__link">
    <span class="md-ellipsis">
      1) Data organisation: Setting up Nipoppy
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-data-processing" class="md-nav__link">
    <span class="md-ellipsis">
      2) Data processing
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2) Data processing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#part-a-running-freesurfer-7" class="md-nav__link">
    <span class="md-ellipsis">
      Part A: Running FreeSurfer 7
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#part-b-running-the-subsegmentations" class="md-nav__link">
    <span class="md-ellipsis">
      Part B: Running the Subsegmentations
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#part-c-running-the-freesurfer-quality-control-toolbox-fsqc" class="md-nav__link">
    <span class="md-ellipsis">
      Part C: Running the FreeSurfer Quality Control Toolbox (fsqc)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-quality-control-visual-inspection" class="md-nav__link">
    <span class="md-ellipsis">
      3) Quality control: visual inspection
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-data-sharing" class="md-nav__link">
    <span class="md-ellipsis">
      4) Data sharing
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="freesurfer-project-brain-morphology">FreeSurfer project - brain morphology</h1>
<h2 id="about-the-project">About the project</h2>
<p><strong>Full title:</strong> Brain morphology in central disorders of hypersomnolence: First analysis from the global multi-site neuroimaging consortium NICHY</p>
<p><strong>Analysis leads:</strong> Eva van Heese, Niels de Joode, and Keetje Voogd</p>
<p><strong>Contact details:</strong> e.vanheese@amsterdamumc.nl</p>
<p>This project represents the <strong>first analysis of the NICHY consortium</strong>. This first study focuses on <strong>brain morphology</strong> of the <strong>cortex and subcortex</strong> using <strong>T1-weighted MRI</strong> data. Specifically, we aim to:  </p>
<ul>
<li>Improve understanding of <strong>brain morphometry</strong> differences between narcolepsy type 1, type 2, idiopathic hypersomnia, and controls.  </li>
<li>Examine relationships between brain morphometry alterations and <strong>clinical characteristics</strong>, such as disease severity, diagnostic outcomes (MSLT, PSG), onset, duration, and medication use.  </li>
</ul>
<p>The preregistration of this analysis is available at <a href="https://osf.io/8fdqc">the open science framework</a>.</p>
<hr />
<h2 id="before-you-start">Before you start</h2>
<h3 id="leaderboard">Leaderboard</h3>
<p>To help monitor each site's progress, we maintain a <strong>leaderboard</strong> that outlines all the steps detailed in these guidelines. If you are responsible for data processing at your site, please:</p>
<ol>
<li><strong>Request access</strong> to the NICHY Leaderboard.  </li>
<li><strong>Regularly update your progress</strong> as you complete each step of the analysis pipeline.</li>
</ol>
<p>You can view the leaderboard here:<br />
👉 <a href="https://docs.google.com/spreadsheets/d/1t4-qiyZM0aJkHxsnCzTBjaEYqRw58aoUS0GbYrUE9fw/edit?gid=0#gid=0">NICHY Leaderboard</a></p>
<blockquote>
<p><strong>Note:</strong> With the above link, you can <strong>view</strong> the leaderboard but cannot make edits.<br />
To update your site’s progress, please <strong>request editor rights</strong> from the coordinating team.</p>
</blockquote>
<h3 id="site-survey">Site survey</h3>
<p>If you have not done so yet, please complete this <strong>short survey</strong> (under 5 minutes).<br />
It helps us understand the <strong>current status of your data</strong>, your <strong>processing environment</strong>, and any <strong>support you may need</strong>:<br />
<a href="https://docs.google.com/forms/d/e/1FAIpQLSdORyRZCVdTuiS87djCiUK1fPGj6C6Ylt42YGFNKoDAZDmSNg/viewform">Site survey</a></p>
<h3 id="responsible-person">Responsible person</h3>
<p>Each site should identify a <strong>responsible person</strong> to run the analysis.  </p>
<ul>
<li>This <strong>does not</strong> need to be a radiologist or someone with extensive technical expertise.  </li>
<li>A motivated student or researcher can perform the processing steps using our manual and guidance.  </li>
<li>The key requirements are <strong>motivation, time, and access to the MRI data</strong>.  </li>
</ul>
<p>We estimate that <strong>data organization and processing</strong> will take a few hours per week for ~3 months. Sites who can dedicate more time may finish faster.<br />
This responsible person will be listed as a <strong>co-author</strong> on the resulting manuscript.</p>
<h3 id="general-timeline">General timeline</h3>
<ul>
<li>Data organisation and processing can begin <strong>immediately</strong> after the workshops (Oct 8/9) if your site is ready.  </li>
<li>We aim for <strong>most centres to start preprocessing by the end of October</strong>.  </li>
<li>We expect <strong>most sites to finish by the end of 2025</strong> (soft deadline). Extensions into the first months of 2026 are possible after consulting with the NICHY analysis team.</li>
</ul>
<h3 id="analysis-workflow-and-documentation">Analysis workflow and documentation</h3>
<p>The workflow used for this project has been developed and thoroughly tested by the <a href="https://enigma.ini.usc.edu/"><strong>ENIGMA consortium</strong></a>, which has a very similar structure to NICHY. On this page, we will link to ENIGMA resources for step-by-step guidance, and provide additional NICHY-specific information.</p>
<p>The tools selected for the analysis were chosen for two main reasons:</p>
<ol>
<li>
<p><strong>Consistency across sites:</strong><br />
   To make sure that the analysis is performed in the <strong>exact same way</strong> at each participating site.<br />
   This harmonized approach is essential to reduce <strong>site effects</strong> in large-scale neuroimaging studies.</p>
</li>
<li>
<p><strong>Ease of use:</strong><br />
   The tools are designed to be as <strong>user-friendly</strong> as possible, even for researchers or students with limited experience in MRI processing.<br />
   They require <strong>no programming background</strong>, only access to a <strong>server</strong> and the <strong>MRI data</strong>. Some <strong>basic skills</strong> in working with files, command-line tools, or general computer usage can help speed up the setup and processing.</p>
</li>
</ol>
<p>While there may be an <strong>initial learning curve</strong>, once you complete the setup you will find the tools highly efficient and reliable for running analyses at your site.</p>
<p>The figure below shows how the steps for data organisation and processing. Most of these steps will be performed using the <strong>Nipoppy framework</strong>, which automates and streamlines the workflow. The links in each section in this document will take you to the <strong>ENIGMA-infra</strong> documentation, which provides more detailed instructions.</p>
<p><img alt="NICHY Freesurfer workflow" src="../../../assets/images/NICHY_freesurfer_workflow.jpg" /></p>
<h3 id="guidance">Guidance</h3>
<p>This page contains all the <strong>relevant information</strong> you need to run the analysis at your site. In addition, each site will be assigned <strong>one of the three analysis team members</strong> — Eva van Heese, Niels de Joode, or Keetje Voogd — for <strong>personal guidance</strong>.</p>
<p>With your assigned team member, you will have:  </p>
<ul>
<li>An <strong>introduction meeting</strong> to go over the workflow, tools, and any site-specific questions.  </li>
<li><strong>Regular check-ins</strong> to monitor progress, troubleshoot issues, and ensure your site stays on track with the analysis.  </li>
</ul>
<hr />
<h2 id="system-requirements">System requirements</h2>
<h3 id="linux-server">Linux server</h3>
<p>To run the analysis, you need access to a <strong>Linux server</strong>. The server should have enough storage and memory to handle MRI data and the processing steps. </p>
<p>If you are not sure whether you have access to a Linux server, please ask around at your institute, your IT department or colleagues in neuroimaging/research computing may be able to help.  </p>
<p>If a suitable server is not available, <strong>please reach out to the NICHY analysis team</strong> for advice.</p>
<h3 id="using-containers">Using containers</h3>
<p>We will be using <strong>containerized pipelines</strong> for running FreeSurfer 7 segmentation, subsegmentations, the quality control script, and potentially BIDSification.  </p>
<h4 id="what-are-containers">What are containers?</h4>
<p>We will be using containerized pipelines or "containers" for data processing. Containers are self-contained software environments that package <strong>all the tools, dependencies, and code</strong> needed to run an analysis. This ensures that each step is run <strong>reproducibly and consistently</strong>, regardless of the system you are using. Containers help avoid problems with software versions, missing packages, or different operating systems, which can otherwise make large-scale analyses difficult to replicate.</p>
<p>To use containers, you need a <strong>container platform</strong>. We strongly recommend <strong>Apptainer</strong> (previously Singularity). These programs allow you to <strong>download, manage, and run containerized pipelines</strong> safely on Linux systems without needing admin rights. </p>
<p><img alt="NICHY Freesurfer workflow" src="../../../assets/images/container_infographic.png" /></p>
<h4 id="checking-for-an-existing-installation">Checking for an existing installation</h4>
<p>You may already have Apptainer/Singularity installed on your machine. You can try this by simply running <code>apptainer</code> or <code>singularity</code> in your command line and see if it throws an error. Sometimes you will need to load it to your environment, for example by running <code>module load apptainer</code>. If you don't have a container platform installed, you can find how to do this below.</p>
<h4 id="installing-container-software">Installing container software</h4>
<p><a href="https://github.com/apptainer/apptainer/blob/main/INSTALL.md">Install Apptainer here</a> </p>
<blockquote>
<p><strong>Note:</strong> In some environments (e.g. shared servers), you may not be allowed to install software yourself. 
In that case, please contact your system administrators and request that they install Apptainer for you. </p>
</blockquote>
<h4 id="building-and-pulling-containers">Building and pulling containers</h4>
<p>Most containers used in scientific pipelines are built by developers and then hosted online (for example, on <a href="https://hub.docker.com/">Docker Hub</a> or other registries). What you actually download is a <strong>container image</strong>, which is a file that packages all the necessary software and dependencies.  </p>
<p>For Apptainer, this image is stored as a single <code>.sif</code> file (Singularity Image Format). You do not need to build everything from scratch, instead, you can <strong>pull</strong> the image from the cloud and convert it into a <code>.sif</code> container with a single command.  </p>
<p>This process is:
- <strong>Reproducible</strong> – everyone pulls the exact same software environment.<br />
- <strong>Safe</strong> – the build command only creates the <code>.sif</code> file and does not change your system. </p>
<p><strong>*Example command:</strong>
For Apptainer, run:</p>
<pre><code class="language-bash">apptainer build &lt;pipeline&gt;_&lt;version&gt;.sif \
                    docker://&lt;repository&gt;/&lt;pipeline&gt;:&lt;version&gt;
</code></pre>
<h2 id="storing-container-images">Storing container images</h2>
<p>Nipoppy encourages the use of a common directory for storing container images, which can be shared across datasets/individuals. This directory can be anywhere on a system. </p>
<blockquote>
<p><strong>Note:</strong> In the global config file, <code>&lt;NIPOPPY_DPATH_CONTAINERS&gt;</code> should be replaced by the actual path to that directory. We encourage you to create a symlink (= a shortcut pointing to another file or directory, allowing access from a different location without copying the original) from the <code>&lt;DATASET_ROOT&gt;/containers directory</code> inside the Nipoppy dataset to the shared container store location. This makes it easy for anyone inspecting the dataset to find the containers. If you create this symlink, you don’t need to set <code>&lt;NIPOPPY_DPATH_CONTAINERS&gt;</code> manually, because Nipoppy will automatically use <code>&lt;DATASET_ROOT&gt;/containers</code> by default.</p>
</blockquote>
<h2 id="1-data-organisation-setting-up-nipoppy"><strong>1) Data organisation: Setting up Nipoppy</strong></h2>
<p><strong>Summary:</strong><br />
Nipoppy is a lightweight framework for standardized data organization and processing of neuroimaging-clinical datasets. It helps users adopt the <a href="https://www.go-fair.org/fair-principles/" target="_blank">FAIR principles</a> and improves reproducibility. The collaboration between large consortia (such as ENIGMA, NICHY) and the Nipoppy team has streamlined data curation, processing, and analysis workflows, simplifying tracking of data, addition of new pipelines, and upgrades of existing pipelines.  </p>
<p><strong>Aim:</strong><br />
To standardize dataset organization, ensure reproducibility, and facilitate smooth use of processing pipelines.  </p>
<p><strong>Support:</strong><br />
Join the <a href="https://discord.gg/dQGYADCCMB" target="_blank">Nipoppy Discord channel</a> for questions and community support.<br />
Full Nipoppy documentation is available <a href="https://nipoppy.readthedocs.io/en/stable/index.html" target="_blank">here</a>.</p>
<blockquote>
<p><strong>NICHY-specific note</strong>
We recommend to name your data root folder (the folder that includes all data): <code>&lt;your_cohort_nichy&gt;</code></p>
</blockquote>
<p><a href="https://enigma-infra.github.io/resources/how_to_guides/setting_up_nipoppy/" target="_blank">Link to instructions</a></p>
<hr />
<h2 id="2-data-processing"><strong>2) Data processing</strong></h2>
<p>When you reach this point, the hardest part is behind you! We will now use the nipoppy framework to run three different processing pipelines. Check out <a href="https://nipoppy.readthedocs.io/en/latest/how_to_guides/user_guide/processing.html" target="_blank">this page</a> for additional information about running processing pipelines with Nipoppy.</p>
<h3 id="part-a-running-freesurfer-7"><strong>Part A: Running FreeSurfer 7</strong></h3>
<p><strong>Summary:</strong><br />
We will run FreeSurfer 7 using the fMRIPrep pipeline.  </p>
<p><strong>Aim:</strong><br />
To perform cortical and subcortical segmentation and extract standard brain morphometry measures.  </p>
<p><strong>Pipeline name:</strong> fmriprep </p>
<p><a href="https://enigma-infra.github.io/resources/how_to_guides/freesurfer7/" target="_blank">Link to instructions</a></p>
<h3 id="part-b-running-the-subsegmentations"><strong>Part B: Running the Subsegmentations</strong></h3>
<p><strong>Summary:</strong><br />
This <strong>custom pipeline</strong>, developed by the NICHY analysis team, uses the FreeSurfer output generated in part A. The pipeline runs additional FreeSurfer functionalities to extract <strong>subnuclei volumes</strong> from subcortical regions (e.g., thalamus, hippocampus, brainstem, hypothalamus, amygdala). It also runs <a href="https://surfer.nmr.mgh.harvard.edu/fswiki/Samseg"><strong>Sequence Adaptive Multimodal SEGmentation (SAMSEG)</strong></a> to calculate a better estimate for intracranial volume.</p>
<p><strong>Aim:</strong><br />
To obtain detailed subregional volumetric measures and a better estimate for intracranial volume for more precise morphometric analyses. </p>
<p><strong>Pipeline name:</strong> freesurfer_subseg</p>
<p><a href="https://enigma-infra.github.io/resources/how_to_guides/freesurfer_subseg/" target="_blank">Link to instructions</a>  </p>
<h3 id="part-c-running-the-freesurfer-quality-control-toolbox-fsqc"><strong>Part C: Running the FreeSurfer Quality Control Toolbox (fsqc)</strong></h3>
<p><strong>Summary:</strong><br />
<a href="https://github.com/Deep-MI/fsqc">FreeSurfer Quality Control (FS-QC)</a> is used to assess the quality of FreeSurfer outputs, producing summary metrics and visual overviews, including tables and .html pages with screenshots for easy inspection.</p>
<p><strong>Aim:</strong><br />
To provide all the necessary information to perform reliable quality checks on cortical, subcortical, subnuclei segmentations.</p>
<p><strong>Pipeline name:</strong> fsqc</p>
<p><a href="https://enigma-infra.github.io/resources/how_to_guides/fsqc/" target="_blank">Link to instructions</a>  </p>
<hr />
<h2 id="3-quality-control-visual-inspection"><strong>3) Quality control: visual inspection</strong></h2>
<p><strong>Summary:</strong><br />
Careful visual inspection of segmentations is the <strong>most manual step</strong> of this workflow and is essential to ensure the outputs are accurate and reliable. Even small errors or artifacts in images can lead to major mistakes in the brain segmentation. We will follow <strong>standardized ENIGMA protocols</strong>, with adjustments made for the Parkinson’s Disease working group, to assess the quality of cortical and subcortical segmentations.  </p>
<blockquote>
<p><strong>Note:</strong> At this stage, visual quality assessment of the <strong>subsegmentations</strong> is <strong>not required</strong>, as there are no established protocols and the process would be highly time-consuming. Instead, statistical checks (e.g., outlier detection) will be used. A dedicated quality control procedure for subsegmentations may be developed in a future project when the necessary anatomical expertise is available.  </p>
</blockquote>
<p><strong>Aim:</strong><br />
To verify whether cortical and subcortical regions, or participants, can be safely included in the final analysis.</p>
<p><a href="https://enigma-infra.github.io/resources/how_to_guides/qa/" target="_blank">Link to instructions</a></p>
<hr />
<h2 id="4-data-sharing"><strong>4) Data sharing</strong></h2>
<p>After completing all of the above steps, you're ready to share your derived data with the NICHY analysis team. Please:</p>
<ul>
<li>Review the .tsv and Excel spreadsheets for completeness, ensuring all participants are included, there are no missing or unexpected data points, and quality assessment scores have been assigned to each ROI and participant.</li>
<li>Confirm whether you are authorized to share the quality check .png files. These will be used, along with your quality assessment scores, to help train automated machine learning models and (in the future) eliminate the need for manual checking in the future.</li>
</ul>
<p>Once these checks are complete, email your analysis contact person to receive instructions for uploading the .csv files and, if applicable, the QA .png files, via SFTP to our central storage on the Compute Canada server.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": [], "search": "../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>